<?xml version="1.0" encoding="UTF-8"?>
<AUTOSAR xmlns="http://autosar.org/schema/r4.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <AR-PACKAGES>
    <AR-PACKAGE>
      <SHORT-NAME>ComponentTypes</SHORT-NAME>
      <AR-PACKAGES>
        <AR-PACKAGE>
          <SHORT-NAME>ApplicationComponents</SHORT-NAME>
          <ELEMENTS>
            <!-- Application Software Component Type -->
            <APPLICATION-SW-COMPONENT-TYPE>
              <SHORT-NAME>EngineController</SHORT-NAME>
              <CATEGORY>APPLICATION_SW_COMPONENT</CATEGORY>
              <PORTS>
                <!-- Provided Ports -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>PP_EngineSpeed</SHORT-NAME>
                  <PROVIDED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/PortInterfaces/SenderReceiverInterfaces/SR_EngineSpeed</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>PP_EngineTemperature</SHORT-NAME>
                  <PROVIDED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/PortInterfaces/SenderReceiverInterfaces/SR_EngineTemperature</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>PP_EngineControl</SHORT-NAME>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">/PortInterfaces/ClientServerInterfaces/CS_EngineControl</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
                <!-- Required Ports -->
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>RP_ThrottlePosition</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/PortInterfaces/SenderReceiverInterfaces/SR_ThrottlePosition</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>RP_CoolantTemperature</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/PortInterfaces/SenderReceiverInterfaces/SR_CoolantTemperature</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>RP_DiagnosticService</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">/PortInterfaces/ClientServerInterfaces/CS_DiagnosticService</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
                <!-- PR Port (Provided-Required) -->
                <PR-PORT-PROTOTYPE>
                  <SHORT-NAME>PRP_NvMService</SHORT-NAME>
                  <PROVIDED-REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">/PortInterfaces/ClientServerInterfaces/CS_NvMService</PROVIDED-REQUIRED-INTERFACE-TREF>
                </PR-PORT-PROTOTYPE>
              </PORTS>
              <INTERNAL-BEHAVIORS>
                <SWC-INTERNAL-BEHAVIOR>
                  <SHORT-NAME>EngineController_InternalBehavior</SHORT-NAME>
                  <!-- Runnables -->
                  <RUNNABLES>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_MainFunction_10ms</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0.01</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <DATA-READ-ACCESSS>
                        <VARIABLE-ACCESS>
                          <SHORT-NAME>DA_ReadThrottle</SHORT-NAME>
                          <ACCESSED-VARIABLE>
                            <AUTOSAR-VARIABLE-IREF>
                              <PORT-PROTOTYPE-REF DEST="R-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/EngineController/RP_ThrottlePosition</PORT-PROTOTYPE-REF>
                              <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/PortInterfaces/SenderReceiverInterfaces/SR_ThrottlePosition/ThrottleValue</TARGET-DATA-PROTOTYPE-REF>
                            </AUTOSAR-VARIABLE-IREF>
                          </ACCESSED-VARIABLE>
                        </VARIABLE-ACCESS>
                        <VARIABLE-ACCESS>
                          <SHORT-NAME>DA_ReadCoolant</SHORT-NAME>
                          <ACCESSED-VARIABLE>
                            <AUTOSAR-VARIABLE-IREF>
                              <PORT-PROTOTYPE-REF DEST="R-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/EngineController/RP_CoolantTemperature</PORT-PROTOTYPE-REF>
                              <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/PortInterfaces/SenderReceiverInterfaces/SR_CoolantTemperature/TempValue</TARGET-DATA-PROTOTYPE-REF>
                            </AUTOSAR-VARIABLE-IREF>
                          </ACCESSED-VARIABLE>
                        </VARIABLE-ACCESS>
                      </DATA-READ-ACCESSS>
                      <DATA-WRITE-ACCESSS>
                        <VARIABLE-ACCESS>
                          <SHORT-NAME>DA_WriteSpeed</SHORT-NAME>
                          <ACCESSED-VARIABLE>
                            <AUTOSAR-VARIABLE-IREF>
                              <PORT-PROTOTYPE-REF DEST="P-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/EngineController/PP_EngineSpeed</PORT-PROTOTYPE-REF>
                              <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/PortInterfaces/SenderReceiverInterfaces/SR_EngineSpeed/SpeedValue</TARGET-DATA-PROTOTYPE-REF>
                            </AUTOSAR-VARIABLE-IREF>
                          </ACCESSED-VARIABLE>
                        </VARIABLE-ACCESS>
                        <VARIABLE-ACCESS>
                          <SHORT-NAME>DA_WriteTemperature</SHORT-NAME>
                          <ACCESSED-VARIABLE>
                            <AUTOSAR-VARIABLE-IREF>
                              <PORT-PROTOTYPE-REF DEST="P-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/EngineController/PP_EngineTemperature</PORT-PROTOTYPE-REF>
                              <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/PortInterfaces/SenderReceiverInterfaces/SR_EngineTemperature/TempValue</TARGET-DATA-PROTOTYPE-REF>
                            </AUTOSAR-VARIABLE-IREF>
                          </ACCESSED-VARIABLE>
                        </VARIABLE-ACCESS>
                      </DATA-WRITE-ACCESSS>
                      <SYMBOL>RE_MainFunction_10ms</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_DiagnosticFunction_100ms</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0.1</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>SC_ReadDTC</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/EngineController/RP_DiagnosticService</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/PortInterfaces/ClientServerInterfaces/CS_DiagnosticService/ReadDTCInformation</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
                      </SERVER-CALL-POINTS>
                      <SYMBOL>RE_DiagnosticFunction_100ms</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_StartEngine</SHORT-NAME>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <OPERATION-INVOKED-EVENTS>
                        <OPERATION-INVOKED-EVENT>
                          <SHORT-NAME>OIE_StartEngine</SHORT-NAME>
                          <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/ComponentTypes/ApplicationComponents/EngineController/EngineController_InternalBehavior/RE_StartEngine</START-ON-EVENT-REF>
                          <OPERATION-IREF>
                            <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/EngineController/PP_EngineControl</CONTEXT-P-PORT-REF>
                            <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/PortInterfaces/ClientServerInterfaces/CS_EngineControl/StartEngine</TARGET-PROVIDED-OPERATION-REF>
                          </OPERATION-IREF>
                        </OPERATION-INVOKED-EVENT>
                      </OPERATION-INVOKED-EVENTS>
                      <SYMBOL>RE_StartEngine</SYMBOL>
                    </RUNNABLE-ENTITY>
                  </RUNNABLES>
                  <!-- Events -->
                  <EVENTS>
                    <!-- Timing Events -->
                    <TIMING-EVENT>
                      <SHORT-NAME>TE_MainFunction_10ms</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/ComponentTypes/ApplicationComponents/EngineController/EngineController_InternalBehavior/RE_MainFunction_10ms</START-ON-EVENT-REF>
                      <PERIOD>0.01</PERIOD>
                    </TIMING-EVENT>
                    <TIMING-EVENT>
                      <SHORT-NAME>TE_DiagnosticFunction_100ms</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/ComponentTypes/ApplicationComponents/EngineController/EngineController_InternalBehavior/RE_DiagnosticFunction_100ms</START-ON-EVENT-REF>
                      <PERIOD>0.1</PERIOD>
                    </TIMING-EVENT>
                  </EVENTS>
                  <!-- Exclusive Areas -->
                  <EXCLUSIVE-AREAS>
                    <EXCLUSIVE-AREA>
                      <SHORT-NAME>ExclusiveArea_EngineData</SHORT-NAME>
                    </EXCLUSIVE-AREA>
                  </EXCLUSIVE-AREAS>
                  <!-- Per Instance Memory -->
                  <PER-INSTANCE-MEMORYS>
                    <PER-INSTANCE-MEMORY>
                      <SHORT-NAME>PIM_EngineState</SHORT-NAME>
                      <TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/DataTypes/ImplementationDataTypes/Impl_EngineState</TYPE-TREF>
                    </PER-INSTANCE-MEMORY>
                    <PER-INSTANCE-MEMORY>
                      <SHORT-NAME>PIM_EngineRunTime</SHORT-NAME>
                      <TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/DataTypes/ImplementationDataTypes/Impl_uint32</TYPE-TREF>
                    </PER-INSTANCE-MEMORY>
                  </PER-INSTANCE-MEMORYS>
                </SWC-INTERNAL-BEHAVIOR>
              </INTERNAL-BEHAVIORS>
            </APPLICATION-SW-COMPONENT-TYPE>
            <!-- Sensor/Actuator Software Component Type -->
            <SENSOR-ACTUATOR-SW-COMPONENT-TYPE>
              <SHORT-NAME>ThrottleSensor</SHORT-NAME>
              <PORTS>
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>PP_ThrottlePosition</SHORT-NAME>
                  <PROVIDED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/PortInterfaces/SenderReceiverInterfaces/SR_ThrottlePosition</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
              </PORTS>
              <INTERNAL-BEHAVIORS>
                <SWC-INTERNAL-BEHAVIOR>
                  <SHORT-NAME>ThrottleSensor_InternalBehavior</SHORT-NAME>
                  <RUNNABLES>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ReadThrottle</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0.005</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <DATA-WRITE-ACCESSS>
                        <VARIABLE-ACCESS>
                          <SHORT-NAME>DA_WriteThrottleValue</SHORT-NAME>
                          <ACCESSED-VARIABLE>
                            <AUTOSAR-VARIABLE-IREF>
                              <PORT-PROTOTYPE-REF DEST="P-PORT-PROTOTYPE">/ComponentTypes/ApplicationComponents/ThrottleSensor/PP_ThrottlePosition</PORT-PROTOTYPE-REF>
                              <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/PortInterfaces/SenderReceiverInterfaces/SR_ThrottlePosition/ThrottleValue</TARGET-DATA-PROTOTYPE-REF>
                            </AUTOSAR-VARIABLE-IREF>
                          </ACCESSED-VARIABLE>
                        </VARIABLE-ACCESS>
                      </DATA-WRITE-ACCESSS>
                      <SYMBOL>RE_ReadThrottle</SYMBOL>
                    </RUNNABLE-ENTITY>
                  </RUNNABLES>
                  <EVENTS>
                    <TIMING-EVENT>
                      <SHORT-NAME>TE_ReadThrottle_5ms</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/ComponentTypes/ApplicationComponents/ThrottleSensor/ThrottleSensor_InternalBehavior/RE_ReadThrottle</START-ON-EVENT-REF>
                      <PERIOD>0.005</PERIOD>
                    </TIMING-EVENT>
                  </EVENTS>
                </SWC-INTERNAL-BEHAVIOR>
              </INTERNAL-BEHAVIORS>
            </SENSOR-ACTUATOR-SW-COMPONENT-TYPE>
          </ELEMENTS>
        </AR-PACKAGE>
      </AR-PACKAGES>
    </AR-PACKAGE>
  </AR-PACKAGES>
</AUTOSAR>